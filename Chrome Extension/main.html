<!DOCTYPE html>
<html style="overflow-y: visible">
<head>
  <script src="js/serial.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/main.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="container">
    <label>
      Port:
      <select id="device-picker"></select>
      <button id="refresh-devices" type="button">Refresh</button>
    </label>

    <label>
      Status:
      <span id="status">Loading</span>
    </label>

    <!-- <label class="slide-box">
      Flow Rate (ml/min):
      <input class="textbox" type="number" min="0" max="3000" step="10" value="0" disabled>
      <input class="slider" type="range" min="0" max="3000" step="100" value="0" disabled>
      <div class="current-value">
        Current: <span>0</span>
      </div>
    </label> -->
    <div id="selector-div" class="version:min-5">
      <label class="selector">
        Selector:
        <select id="selector-picker"></select>
      </label>
    </div>

    <label id="command-ratioA" class="slide-box version:max-6 hidden">
      Ratio - A:
      <input class="textbox" type="number" min="0" max="10" step="0.1" value="0" disabled>
      <input class="slider" type="range" min="0" max="10" step="0.1" value="0" disabled>
      <div class="current-value">
        Current: <span>0</span>
      </div>
    </label>

    <label id="command-ratioB" class="slide-box version:max-6 hidden">
      Ratio - B:
      <input class="textbox" type="number" min="0" max="10" step="0.1" value="0" disabled>
      <input class="slider" type="range" min="0" max="10" step="0.1" value="0" disabled>
      <div class="current-value">
        Current: <span >0</span>
      </div>
    </label>

    <label id="command-ratioResin" class="slide-box version:min-7">
      Ratio - Resin:
      <input class="textbox" type="number" min="0" max="10" step="0.1" value="0" disabled>
      <input class="slider" type="range" min="0" max="10" step="0.1" value="0" disabled>
      <div class="current-value">
        Current: <span>0</span>
      </div>
    </label>

    <label id="command-ratioHardener" class="slide-box version:min-7">
      Ratio - Hardener:
      <input class="textbox" type="number" min="0" max="10" step="0.1" value="0" disabled>
      <input class="slider" type="range" min="0" max="10" step="0.1" value="0" disabled>
      <div class="current-value">
        Current: <span >0</span>
      </div>
    </label>

    <label id="command-flowRate" class="slide-box version:min-7">
      Flow Rate (ml/min):
      <input class="textbox" type="number" min="0" max="10000" step="100" value="0" disabled>
      <input class="slider" type="range" min="0" max="10000" step="100" value="0" disabled>
      <div class="current-value">
        Current: <span >0</span>
      </div>
    </label>

    <label id="command-volume" class="slide-box version:min-7">
      Volume (ml):
      <input class="textbox" type="number" min="0" max="10000" step="100" value="0" disabled>
      <input class="slider" type="range" min="0" max="10000" step="100" value="0" disabled>
      <div class="current-value">
        Current: <span >0</span>
      </div>
    </label>

    <!-- <label class="slide-box">
      Auto Reverse:
      <input class="textbox" type="number" min="0" max="10000" step="1000" value="0" disabled>
      <input class="slider" type="range" min="0" max="10000" step="100" value="0" disabled>
      <div class="current-value">
        Current: <span>0</span>
      </div>
    </label> -->

    <label id="advanced">
      <div id="advanced-expander"><img src="assets/plus.svg" alt="+"><span id="advanced-expandertext">Advanced</span></div>
      <div id="advanced-input" style="display: none;">
        <ul>
          <!-- <li id="command-flowRate" class="advanced version:all">
            Flow Rate (ml/min):
            <input class="textbox" type="number" min="0" max="10000" step="100" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-volume" class="advanced version:all">
            Volume (ml):
            <input class="textbox" type="number" min="0" max="150000" step="100" value="0" disabled>
            Current: <span>0</span>
          </li> -->
          <li id="command-autoReverseSteps" class="advanced version:min-7">
            Auto Reverse Steps:
            <input class="textbox" type="number" min="0" max="10000" step="100" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-chargePressure" class="advanced version:min-7 version:max-10">
            Charge Pressure (milli-inH20):
            <input class="textbox" type="number" min="0" max="30000" step="1000" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-onPressure" class="advanced version:min-11">
            ON Pressure (milli-inH20):
            <input class="textbox" type="number" min="0" max="83000" step="1000" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-offPressure" class="advanced version:min-11">
            OFF Pressure (milli-inH20):
            <input class="textbox" type="number" min="0" max="83000" step="1000" value="0" disabled>
            Current: <span>0</span>
          <li id="command-chargeTimeout" class="advanced version:min-11">
            Charge Timeout (milli-seconds):
            <input class="textbox" type="number" min="0" max="30000" step="1000" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-chargeCoolDown" class="advanced version:min-11">
            Charge Cool-Down (milli-seconds):
            <input class="textbox" type="number" min="0" max="60000" step="1000" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-chargeDelay" class="advanced version:min-11">
            Charge Delay (milli-seconds):
            <input class="textbox" type="number" min="0" max="60000" step="1000" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-minChargingTime" class="advanced version:min-7">
            Minimum Pressure Charging Time (ms):
            <input class="textbox" type="number" min="0" max="30000" step="500" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-maxNoPressure" class="advanced version:min-7">
            Maximum Time without Pressure before Error (ms):
            <input class="textbox" type="number" min="0" max="30000" step="500" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-primeVolume" class="advanced version:min-7">
            Prime Volume (ml):
            <input class="textbox" type="number" min="0" max="3000" step="10" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-minPrimes" class="advanced version:min-7">
            Minimum Number of Primes:
            <input class="textbox" type="number" min="0" max="50" step="1" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-keepOpenVolume" class="advanced version:min-7">
            Keep Open Volume (ml):
            <input class="textbox" type="number" min="0" max="3000" step="10" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-pailThreshold" class="advanced version:min-7">
            Pail Threshold (value/4085):
            <input class="textbox" type="number" min="0" max="4085" step="10" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-autoReverseA" class="advanced version:max-6">
            Auto Reverse A:
            <input class="textbox" type="number" min="0" max="10000" step="1000" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-autoReverseB" class="advanced version:max-6">
            Auto Reverse B:
            <input class="textbox" type="number" min="0" max="10000" step="1000" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-stepsPerMlA" class="advanced version:max-6">
            Steps/ml - A:
            <input class="textbox" type="number" min="0" max="1000" step="10" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-stepsPerMlResin" class="advanced version:min-7">
            Steps/ml - Resin:
            <input class="textbox" type="number" min="0" max="1000" step="10" value="0" disabled>
            Current: <span>0</span>
          </li>
          <li id="command-stepsPerMlHardener" class="advanced version:min-7">
            Steps/ml - Hardener:
            <input class="textbox" type="number" min="0" max="1000" step="10" value="0" disabled>
            Current: <span>0</span>
          </li>
        </ul>
      </div>
    </label>

    <div id="controller-state">
      <h3>Controller State</h3>
      <ul>
        <li id="command-name" class="controller-state-infrequent version:all">
          Name: <span>Unknown</span>
        </li>
        <li id="command-firmwareID" class="controller-state-infrequent version:all">
          Firmware ID: <span>0</span>
        </li>
        <li id="command-version" class="controller-state-infrequent version:all">
          Version: <span>0</span>
        </li>
        <li id="command-cloudStatus" class="controller-state-infrequent version:all">
          Cloud Status: <span>Not Connected</span>
        </li>
        <li id="command-selector" class="controller-state-frequent version:min-6">
          Selector: <span>-1</span>
        </li>
      </ul>
      <ul>
        <li id="command-motorSpeedA" class="controller-state-frequent version:max-6 hidden">
          Motor A Speed: <span>0</span>
        </li>
        <li id="command-motorSpeedB" class="controller-state-frequent version:max-6 hidden">
          Motor B Speed: <span>0</span>
        </li>
        <li id="command-resinPumpSpeed" class="controller-state-frequent version:min-7">
          Resin Pump Speed: <span>0</span>
        </li>
        <li id="command-hardenerPumpSpeed" class="controller-state-frequent version:min-7">
          Hardener Pump Speed: <span>0</span>
        </li>
        <li id="command-action" class="controller-state-frequent version:all">
          Action: <span>none</span>
        </li>
        <li id="command-currentPressure" class="controller-state-frequent version:min-7">
          Pressure: <span>0</span>
        </li>
        <li id="command-pailState" class="controller-state-frequent version:min-7">
          Pail State: <span>0</span>
        </li>
        <li id="command-pailRaw" class="controller-state-frequent version:min-7">
          Pail Raw: <span>0</span>
        </li>
        <li id="command-primeState" class="controller-state-infrequent version:min-7">
          Primed: <span>0</span>
        </li>
        <li id="command-incrementer" class="controller-state-frequent version:min-9">
          Incrementer: <span>0</span>
        </li>
      </ul>
      <ul>
        <button id="togglePump" type="button" class="action-button version:all">Toggle Pumps</button>
        <button id="wifiStatus" type="button" class="dual-state-button version:min-5" value="0" enabledText="Disable Wifi" disabledText="Enable Wifi">Enable Wifi</button>
        <button id="startFlush" type="button" class="action-button version:min-7">Start Flush</button>
      </ul>

      <li id="command-error" class="controller-state-frequent version:all">
        Error: <span>none</span>
      </li>

    </div>
  </div>

</body>
</html>
